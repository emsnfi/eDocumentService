{% extends "base_nav.html" %} {% block title %} vue tinymce {% endblock %} {% block content %} {% csrf_token %}


<script>

	const tinymce_settings = {
		language: 'zh_TW',
		menubar: 'edit insert format table',
		plugins: 'paste textcolor link table lists advlist hr charmap',
		toolbar: 'undo redo | fontsizeselect | forecolor backcolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent',
		fontsize_formats: '8pt 10pt 11pt 12pt 14pt 18pt 24pt 36pt',
		paste_data_images: true,
		setup: function (ed) {
			ed.on('init', function (e) {

				//style
				let s = ed.getBody().style;
				s.fontSize = '11pt';
				s.fontFamily = '微軟正黑體';

			});
		},
	}

	let vo_tm;

	$(function () {

		//component
		Vue.component('VueTinymce', Editor);
		
		//opt
		let opt = {
			el: '#' + 'id_vue_tm',
			data: {
				content: '<p>qwe</p><p>asd</p>',
			},
		};

		vo_tm = new Vue(opt);

	})

</script>


<script>


	//vu-tinymce
	Vue.component('vu-tinymce', {
		template: `
<div>

	<VueTinymce style="height:300px;" v-bind:init="tinymce_settings" v-model="content"></VueTinymce>

	<button style="margin-top:15px;" v-on:click="ck_save">log content</button>

</div>
	`,
		props: ['content'],
		methods: {

			ck_save: function () {
				//console.log('methods ck_save')

				let vo = this;

				//log
				console.log(vo.content)

			}

		},
	})


</script>

<h3>官網vue tinymce測試</h3>

<vu-tinymce id="id_vue_tm" v-bind:content="content"></vu-tinymce>

{% endblock %}